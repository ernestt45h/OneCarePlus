webpackJsonp([3],{"1Asa":function(t,n){},CuRo:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),r=e("/ocq");a.a.use(r.a);var o=new r.a({routes:[{path:"/",name:"App",component:function(t){return e.e(1).then(e.bind(null,"M93x"))}},{path:"/authenticate",name:"authUser",component:function(t){return e.e(0).then(e.bind(null,"UkDw"))}}]}),s=e("JPH7"),i=e.n(s),c=e("Fiog"),u=e("NYxO"),h=e("Xxa5"),l=e.n(h),f=e("exGp"),p=e.n(f),m=e("Zrlr"),d=e.n(m),y=e("wxAW"),v=e.n(y),w={host:"http://localhost:8000/"},g=e("mtWM"),k=e.n(g),x=function(){function t(){d()(this,t),this.handler=k.a.create({baseURL:w.host,auth:{token:""}})}return v()(t,[{key:"get",value:function(){var t=p()(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handler.get(n).then(function(t){return t.data}).catch(function(t){throw t}));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=p()(l.a.mark(function t(n,e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handler.post(n,e).then(function(t){return t.data}).catch(function(t){throw t}));case 1:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"authGet",value:function(){var t=p()(l.a.mark(function t(n,e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handler.get(n,{auth:{token:e}}).then(function(t){return t.data}).catch(function(t){return t}));case 1:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"authPost",value:function(){var t=p()(l.a.mark(function t(n,e,a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handler.post(n,e,{auth:{token:a}}).then(function(t){return t.data}).catch(function(t){return t}));case 1:case"end":return t.stop()}},t,this)}));return function(n,e,a){return t.apply(this,arguments)}}()}]),t}(),_=function(){function t(){d()(this,t),this.axios=new x}return v()(t,[{key:"loginUser",value:function(){var t=p()(l.a.mark(function t(n,e,a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.post(n,{username:e,password:a}).then(function(t){return t}).catch(function(t){return t}));case 1:case"end":return t.stop()}},t,this)}));return function(n,e,a){return t.apply(this,arguments)}}()}]),t}(),b={namespaced:!0,state:{details:{name:{firstName:"",lastName:"",otherName:""},username:"",email:"",phone:"",gender:"",age:""},token:""},getters:{fullName:function(t){var n=t.details.name;return n.lastName||n.lastName?n.lastName+" "+n.lastName+" "+n.otherName:""},isUser:function(t){return!!t.token}},mutations:{update_token:function(t,n){t.token=n}},actions:{loginUser:function(t,n){var e=t.commit;t.rootState;(new _).loginUser("user/auth",n.username,n.password).then(function(t){t.token?(e("update_token",t.token),R.$emit("login_success")):R.$emit("login_error",{type:"danger",title:"Wrong authentication",content:"You have entered a wrong username, email, phone or password "},{root:!0})}).catch(function(t){e("notify",{type:"danger",title:"Connection Error",content:"Try connecting to the internet and try again"})})}}};a.a.use(u.a);var N=new u.a.Store({state:{language:localStorage.getItem("lang")||"en"},modules:{namespaced:!0,user:b,settings:{state:{theme:""},getters:{currentTheme:function(t){return t.theme}}},noti:{mutations:{message:function(t){}}}},mutations:{notify:function(t,n){console.log("message:",n)}},actions:{notify:function(t,n){(0,t.commit)("notify",n)}}}),C={data:function(){return{show:!1,type:"",title:"",content:""}},watch:{data:function(t,n){var e=this;t!=n&&(this.type=t.type,this.title=t.title,this.content=t.content,this.show=!0,setTimeout(function(){e.show=!1},7e3))}},props:["data"],methods:{closeNotify:function(){this.title="",this.content="",this.show=!1}}},U={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.show?e("div",{staticClass:"notify"},[e("button",{staticClass:"close",on:{click:t.closeNotify}},[e("icon",{staticClass:"alert",attrs:{name:"window-close",scale:"2"}})],1),t._v(" "),"danger"==t.type?e("icon",{staticClass:"icon",style:"color: var(--"+t.type+")",attrs:{name:"exclamation-triangle"}}):"success"==t.type?e("icon",{staticClass:"icon",style:"color: var(--"+t.type+")",attrs:{name:"check-circle"}}):"info"==t.type?e("icon",{staticClass:"icon",style:"color: var(--"+t.type+")",attrs:{name:"exclamation-circle"}}):e("icon",{staticClass:"icon",attrs:{name:"sda"}}),t._v(" "),e("div",{staticClass:"content"},[e("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"body"},[t._v(t._s(t.content))])])],1):t._e()},staticRenderFns:[]};var $=e("VU/8")(C,U,!1,function(t){e("1Asa")},"data-v-a70850a4",null).exports,A=(e("CuRo"),e("ZZtB"));e.d(n,"bus",function(){return R});A.a.Device;a.a.component("icon",i.a),a.a.use(u.a),a.a.use(c.a);var R=new a.a;a.a.config.productionTip=!1,new a.a({el:"#app",store:N,router:o,components:{Notify:$},data:function(){return{notify:""}},created:function(){var t=this;this.$store.getters.isUser||this.$router.push({name:"authUser"}),this.$store.subscribe(function(n,e){"notify"==n.type&&(t.notify=n.payload)})},template:'\n  <div>\n    <zoom-x-transition>\n      <notify :data="notify"/>\n    </zoom-x-transition>\n    <fade-transition>\n      <router-view/>\n    </fade-transition>\n  </div>'})}},["NHnr"]);
//# sourceMappingURL=app.28c60aa16d3b3ce56295.js.map